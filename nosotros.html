placeholderId} not found.`);
                return false;
            }

            let htmlUrl;
            let jsUrl;

            // --- Definición explícita de rutas ---
            if (componentName === 'Header') {
                htmlUrl = 'componentes-visuales/Header/header.html'; // Carpeta 'Header', archivo 'header.html'
                jsUrl   = 'componentes-visuales/Header/header.js';   // Carpeta 'Header', archivo 'header.js'
            } else if (componentName === 'Footer') {
                htmlUrl = 'componentes-visuales/Footer/footer.html'; // Carpeta 'Footer', archivo 'footer.html'
                jsUrl   = 'componentes-visuales/Footer/footer.js';   // Carpeta 'Footer', archivo 'footer.js'
            } else {
                console.error(`Nombre de componente desconocido para carga: ${componentName}`);
                placeholder.innerHTML = `<p style="color:orange;">Componente '${componentName}' no reconocido.</p>`;
                return false; // Salir si no es un componente conocido
            }
            // --- Fin definición explícita ---

            try {
                // --- 1. Cargar HTML ---
                console.log(`Cargando HTML para ${componentName} desde ${htmlUrl}...`);
                const response = await fetch(htmlUrl);
                if (!response.ok) throw new Error(`HTTP error ${response.status} loading ${htmlUrl}`);
                const html = await response.text();
                placeholder.innerHTML = html; // Inserta el HTML
                console.log(`HTML para ${componentName} cargado correctamente.`);

                return true; // Retornar true si se cargó correctamente
            } catch (error) {
                console.error(`Error al cargar componente ${componentName}:`, error);
                placeholder.innerHTML = `<p style="color: red; text-align: center; padding: 10px;">Error loading component ${componentName}. Check console.</p>`;
                return false;
            }
        }

        /**
         * Carga todos los componentes principales y muestra el body.
         */
        async function loadAllComponents() {
            console.log("Cargando todos los componentes...");
            
            // Seguimos usando 'Header' y 'Footer' para que el 'if' dentro de loadComponent funcione
            const results = await Promise.all([
                loadComponent('Header', 'header-placeholder'),
                loadComponent('Footer', 'footer-placeholder')
            ]);
            
            // Inicializar el menú del header si se cargó correctamente y la función existe
            if (results[0] && typeof inicializarMenuHeader === 'function') {
                inicializarMenuHeader();
            } else if (results[0]) {
                console.error("La función inicializarMenuHeader no está definida. Verifica que header.js se cargó correctamente.");
            }
            
            document.body.classList.add('loaded');
            console.log("Todos los componentes cargados.");
        }

        // Iniciar todo cuando el DOM inicial esté listo
        document.addEventListener('DOMContentLoaded', loadAllComponents);
    </script>
</body>
</html>
